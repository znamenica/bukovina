=============================================================
ПРОЕКТ ИНВАРИАНТНОГО ПРЕДСТАВЛЕНИЯ ЦЕРКОВНОСЛАВЯНСКОГО ТЕКСТА
(версия HIP-7, допускающая кодирование и иноязычных текстов)
=============================================================

I. ОБЩИЕ ПРИНЦИПЫ

1. Инвариантное представление HIP предназначено для записи в
"читаемой" форме церковнославянских текстов с сохранением всех
деталей правописания. Оно в своей базовой форме не обязано
представлять внеязыковые элементы текста и детали верстки:
размер и вид шрифта, разного рода отступы, разбиение на
строки, столбцы и страницы и т. п. Кодируются только слова (и
числа) текста, знаки препинания, пробелы между словами и
разбиение на абзацы.

Однако базовое HIP содержит возможность отмечать часть текста
как "пояснение" (сноски, параллельные места и т. п.). Также
имеется возможность обозначать некоторые способы выделения
текста: киноварью, разрядкой, размером шрифта.

2. В связи с тем, что церковнославянский язык изменялся со
временем и его "современная" версия с достаточно четкими
правилами правописания заметно отличается -- в том числе и по
набору используемых символов -- от языка старых книг и тем
более рукописей, элементы кодировки HIP могут быть отнесены
к нескольким "уровням":

уровень 0 -- набор символов для современной ц.-сл. печати
(приблизительно с середины XIX века до наших дней);

уровень 1 -- набор символов, встречающихся в печатных книгах
предшествующих эпох, а также символы, применяемые для
транслитерации глаголических памятников;

уровень 2 -- набор символов, встречающихся в рукописях.

Каждый следующий уровень отличается от предыдущего наличием
обозначений для дополнительных символов.

3. В церковнославянских текстах возможны вкрапления на
других языках (например, греческом), а сам
церковнославянский текст, в свою очередь, может быть частью
текста на другом языке. Поэтому HIP имеет средства для
переключения языкового контекста.

4. Также предоставлена возможность включения HIP-фрагментов
в документы, подготавливаемые другими языками разметки (TeX,
HTML и т. п.) -- подразумевается, что пользователь готовит
"смешанный" документ, а затем применяется
программа-препроцессор, превращающая последний в корректный
входной файл для соответствующей системы.

5. Для использования внетекстовой информации (далее она
именуется "комментариями") зарезервированы (пусть пока не
полностью формализованные) механизмы ее возможной вставки.
Любая конкретная реализация вставки внетекстовой информации
далее называется "расширенным HIP".

Примечание 1. Любой текст в виде базового HIP является
текстом в расширенном HIP. Любой текст в расширенном HIP
можно перевести в базовое HIP, удалив комментарии.

Примечание 2 -- о корректности терминологии. Комментарий в
"узком" смысле (некая пометка для памяти или кусок текста,
"отключенный" от документа) тоже является внетекстовой
информацией.

6. HIP является абстрактным 8-битовым представлением текста.
Его конкретные реализации могут меняться в соответствии с
различными возможными кодировками кириллицы. Поэтому в
HIP-файлах разрешается использовать только символы,
гарантированно присутствующие во ВСЕХ кодировках, пригодных
для русского языка, а именно:

1234567890-=[]\;',./` A...Z А...Я
!@#$%^&*()_+{}|:"<>?~ a...z а...я

Кроме того, используются два "абстрактных белых символа":
пробел и EOL (TAB, BS и проч. приравниваются к пробелу, а VT,
FF, EOF и проч. -- к EOL).

7. В HIP визуально неразличимые символы и сочетания символов
("е" русское и "e" латинское, например) обозначают ВО ВСЕХ
СИТУАЦИЯХ одно и то же. Более того, мы считаем неразличимыми
строчные буквы, если соответствующие прописные неразличимы, и
наоборот. Список "неразличимых" букв такой:

Аа Вв Ее Кк Мм Нн Оо Рр Сс Тт Уу Хх
Aa Bb Ee Kk Mm Hh Oo Pp Cc Tt Yy Xx

(Потому в нашем "объединенном" алфавите присутствуют 46 букв:
32 русские + 14 (=26-12) латинских: Dd Ff Gg Ii Jj Ll Nn Qq Rr
Ss Uu Vv Ww Zz.)

Этот же принцип "неразличимости" распространяется и на
другие символы, визуально неотличимые от указанных выше,
если таковые присутствуют в используемой кодировке текстовых
файлов (в частности, некоторые кодировки кириллицы содержат
дополнительные кириллические буквы Ss, Jj, Ii и т. д.).

8. По той же причине визуальной неразличимости (но не только)
HIP не замечает пробелов рядом с EOL, рассматривает любое
число соседних пробелов как один и любое число пустых строк
(строк, состоящих только из пробелов) как одну -- логический
конец абзаца. Одиночный символ EOL (пустая строка -- это пара
EOL'ов) эквивалентен пробелу.

9. В HIP включено обозначение для явного конца абзаца (см.
ниже). Оно эквивалентно паре символов EOL EOL (то есть пустой
строке) и так же, как эта пара символов, взаимодействует с
соседними пробелами и EOL.

10. Желательно, чтобы HIP-закодированный текст был
"читабельным" и без применения каких-либо программ.

11. Также желательно, чтобы HIP-текст как можно проще
переводился из uppercase в lowercase и обратно. (Из этих
соображений в многобуквенных обозначениях предусмотрены
синонимы типа JА и Jа.)

12. Ранее существовавшие версии HIP-A и HIP-B сведены сейчас
воедино, с тем чтобы одна и та же программа могла
воспринимать оба способа записи. В результате также возникли
синонимичные обозначения, список которых см. ниже, в
комментариях к символу "_".

13. Еще один источник синонимичных обозначений -- соглашение
о том, что акценты, пристраиваемые к символу, имеющему
какой-либо надстрочник "по умолчанию", убирают этот
надстрочник. Поэтому I' = <I>' и т. п.

II. ПОЧТИ ФОРМАЛЬНАЯ ГРАММАТИКА HIP

HIP-ТЕКСТ есть последовательность вида

Р[0] С[1] Р[1] С[2] Р[2] ... С[N-1] Р[N-1] С[N] Р[N]

где С[1] ... С[N] -- СЛОВА, а Р[0] ... Р[N] -- РАЗДЕЛИТЕЛИ
(Р[0] и Р[N] могут отсутствовать, остальные элементы
обязательны)

РАЗДЕЛИТЕЛИ бывают двух сортов: РАЗДЕЛИТЕЛИ_СЛОВ и
РАЗДЕЛИТЕЛИ_АБЗАЦЕВ.

РАЗДЕЛИТЕЛЬ_СЛОВ есть последовательность пробелов, EOL'ов,
КОММЕНТАРИЕВ и ПЕРЕКЛЮЧЕНИЙ_ЯЗЫКА, содержащая не более
одного EOL и не состоящая только из КОММЕНТАРИЕВ и
ПЕРЕКЛЮЧЕНИЙ_ЯЗЫКА.

РАЗДЕЛИТЕЛЬ_АБЗАЦЕВ есть последовательность пробелов,
EOL'ов, явных символов конца абзаца, КОММЕНТАРИЕВ и
ПЕРЕКЛЮЧЕНИЙ_ЯЗЫКА, не являющаяся РАЗДЕЛИТЕЛЕМ_СЛОВ и не
состоящая только из КОММЕНТАРИЕВ и ПЕРЕКЛЮЧЕНИЙ_ЯЗЫКА.

СЛОВО есть последовательность ЗНАКОВ, КОММЕНТАРИЕВ и
ПЕРЕКЛЮЧЕНИЙ_ЯЗЫКА, содержащая хотя бы один ЗНАК.

Примечание. В этом описании есть некоторая формальная
неоднозначность (куда относить КОММЕНТАРИЙ или
ПЕРЕКЛЮЧЕНИЕ_ЯЗЫКА, попавшие ровно на границу между СЛОВОМ и
РАЗДЕЛИТЕЛЕМ?). Там, где от этого что-то зависит -- а
именно, в спецкомментариях %[, %], %( и %) -- считаем, что
РАЗДЕЛИТЕЛЬ находится с внешней стороны "скобок" %( и %), но
внутри стороны "скобок" %[ и %].

ПЕРЕКЛЮЧЕНИЕ_ЯЗЫКА -- одна из 4 возможных записей: <::слав>,
  <::рус>, <::лат>, <::греч>. ПЕРЕКЛЮЧЕНИЕ_ЯЗЫКА действует
глобально, до следующего переключения или до конца
HIP-ТЕКСТА. В начале HIP-ТЕКСТА подразумевается режим
  <::слав>. В зависимости от текущего языка изменяется
интерпретация некоторых символов и акцентов (см. ниже).

ЗНАК есть ПРОСТОЙ_ЗНАК или последовательность ПРОСТЫХ_ЗНАКОВ,
соединенных символами "&".

ПРОСТОЙ_ЗНАК есть БАЗОВЫЙ_ЗНАК за которым следует несколько
(в том числе один или ни одного) АКЦЕНТОВ.

КОММЕНТАРИЙ есть либо запись %{...}, внутри которой соблюдена
парность фигурных скобок, либо байт-символ "%" плюс один
непробельный байт-символ, отличный от "{".

БАЗОВЫЕ_ЗНАКИ и АКЦЕНТЫ бывают такие:

а) один непробельный байт-символ, отличный от:
% \ { } < > & _
а также j J в режимах <::слав> и <::рус>

б) запись вида <...>, внутри которой не используются пробелы
и байты-символы < > % { }

в) в режимах <::слав> и <::рус>: один или несколько символов
J и (или) j, за которыми следует ПРОСТОЙ_ЗНАК вида а) или б)

г) в режиме <::слав>: записи _i _I _w _W _е _Е _о
_О _у _У _кс _Кс _КС _пс _Пс _ПС __ _/

д) в режиме <::греч>: записи _кс _Кс _КС _пс _Пс
_ПС _с _С _i _I

е) произвольный HIP-текст в фигурных скобках

ж) байт-символ "\" плюс один байт-символ

з) запись вида \{...}, внутри которой допустим произвольный
HIP-текст

Из них АКЦЕНТАМИ являются записи ж) и з), а также:
байты-символы ' ` ^ ~ "
в режимах <::слав> и <::греч>:   = $
в режиме <::греч>    <i> <I> _i _I

Все остальные суть БАЗОВЫЕ_ЗНАКИ.

Примечание 3. При наличии нескольких АКЦЕНТОВ они
записываются слева направо и снизу вверх. Поэтому в
сочетаниях придыхания с ударением сперва пишем знак
придыхания, а потом знак ударения:

=' =` =^ $' $` $^

Из тех же соображений акцентированные варианты буквы
"от" пишем так:

w\т'           ("от" с ударением)
w\т\ъ          ("от" с паерком)
w\т~           ("от" с титлом)

Примечание 4. Сама же по себе сочетаемость АКЦЕНТОВ друг с
другом и с БАЗОВЫМИ_ЗНАКАМИ представляет собой вопрос не
HIP-кодировки, а орфографической и типографской корректности
текста, а потому в данном документе не оговаривается.

III. ИНТЕГРАЦИЯ КОДИРОВКИ HIP И ДРУГИХ СИСТЕМ РАЗМЕТКИ ТЕКСТА

HIP-фрагментов включаются в документы, подготавливаемые
другими языками разметки (TeX, HTML и т. п.) следующим
образом.

1. Каждый такой фрагмент должен быть полным и корректным
HIP-текстом (в частности, все комментарии и фигурные скобки
должны быть закрыты).

2. Подразумевается, что в начале каждого фрагмента стоит
языковой режим <::слав>, а все шрифтовые выделения
отключены.

3. Перед каждым HIP-фрагментом ставится тег <hip>, а в конце
его -- тег </hip>.

4. Для получения полноценного ТеХ-, HTML- и т. п. документа
подразумевается применение подходящей
программы-препроцессора, порождающей корректный входной файл
для соответствующей системы.

IV. ТАБЛИЦА КОДИРОВКИ СИМВОЛОВ HIP
(коды почти всегда даны в следующем алфавитном порядке:
сперва буквы кириллицы, потом буквы латиницы, потом прочие
символы по порядку ASCII-кодов; в многосимвольных
обозначениях начальные < _ \ J j, а также оконечный > не
учитываются; в самом конце -- многобуквенные именованные
обозначения)

А а
  <::слав>       буква АЗ
  <::рус>        буква А
  <::лат>        буква А
  <::греч>       буква АЛЬФА
\а
  <::слав>       АЗ-титло (без взмета)
<АН> <Ан> <ан>
  <::слав>       носовое А (в кириллической транслитерации глаголицы)
JА Jа jа
  <::слав>       буква Я в виде "лигатуры" IA
<JА> <Jа> <jа>
  <::слав>       буква Я в виде "лигатуры" IA (вариант с соединительной чертой
                 по центру, а не сверху)
Б б
  <::слав>       буква БУКИ
  <::рус>        буква Б
\б
  <::слав>       БУКИ-титло (со взметом)
В в
  <::слав>       буква ВЕДИ
  <::рус>        буква В
  <::лат>        буква В
  <::греч>       буква БЕТА
<В> <в>
  <::греч>       медиофинальный вариант строчной буквы БЕТА
                 и формально соответствующая ему прописная буква
\в
  <::слав>       ВЕДИ-титло (со взметом)
Г г
  <::слав>       буква ГЛАГОЛЬ
  <::рус>        буква Г
  <::греч>       буква ГАММА
<Г> <г>
  <::слав>       буква ГЛАГОЛЬ ТВЕРДОЕ
  <::рус>        украинское твердое Г (клювом вверх)
  <::греч>       строчная буква ГАММА (начертание клювом вверх)
                 и формально соответствующая ей прописная буква
\г
  <::слав>       ГЛАГОЛЬ-титло (со взметом)
Д д
  <::слав>       буква ДОБРО
  <::рус>        буква Д
  <::греч>       буква ДЕЛЬТА
\д
  <::слав>       ДОБРО-титло (без взмета)
<ДГ> <Дг> <дг>
  <::слав>       буква ДОБРО с крючком
<ДЖ> <Дж> <дж>
  <::слав>       молдавская буква ДЖ (вида Ц с хвостом по центру)
  <::рус>        сербская буква ДЖ
Е е
  <::слав>       буква ЕСТЬ
  <::рус>        буква Е
  <::лат>        буква Е
  <::греч>       буква ЭПСИЛОН
<Е> <е> _Е _е
  <::слав>       строчная буква ЕСТЬ ЯКОРНОЕ (она же ЕСТЬ ШИРОКОЕ)
                 и формально соответствующая ей прописная буква
  <::рус>        украинская или старосербская буква ЙЕ
JЕ Jе jе
  <::слав>       буква ЕСТЬ ЙОТИРОВАННОЕ (в виде лигатуры IЕ)
Ж ж
  <::слав>       буква ЖИВЕТЕ
  <::рус>        буква Ж
\ж
  <::слав>       ЖИВЕТЕ-титло (без взмета)
З з
  <::слав>       буква ЗЕМЛЯ
  <::рус>        буква З
  <::греч>       буква ДЗЕТА
<З> <з>
  <::слав>       буква ЗЕМЛЯ (Z-образный вариант)
\з
  <::слав>       ЗЕМЛЯ-титло (без взмета)
И и
  <::слав>       буква ИЖЕ ВОСЬМЕРИЧНОЕ
  <::рус>        буква И
  <::греч>       буква ЭТА
\и
  <::слав>       ИЖЕ-титло (два штриха)
Й й
  <::слав>       буква ИЖЕ КРАТКОЕ
  <::рус>        буква Й
К к
  <::слав>       буква КАКО
  <::рус>        буква К
  <::лат>        буква К
  <::греч>       буква КАППА
\к
  <::слав>       КАКО-титло (со взметом)
<КС> <Кс> <кс> _КС _Кс _кс
  <::слав>       буква КСИ
  <::греч>       буква КСИ
Л л
  <::слав>       буква ЛЮДИ
  <::рус>        буква Л
  <::греч>       буква ЛЯМБДА
\л
  <::слав>       ЛЮДИ-титло (со взметом)
<ЛГ> <Лг> <лг>
  <::слав>       буква ЛЮДИ с крючком
<ЛЬ> <Ль> <ль>
  <::рус>        сербская буква ЛЬ
М м
  <::слав>       буква МЫСЛЕТЕ
  <::рус>        буква М
  <::лат>        буква М
  <::греч>       буква МЮ
\м
  <::слав>       МЫСЛЕТЕ-титло (без взмета)
<М\р>
  <::слав>       символ Марковой главы
Н н
  <::слав>       буква НАШ
  <::рус>        буква Н
  <::лат>        буква Н
  <::греч>       буква НЮ
\н
  <::слав>       НАШ-титло (со взметом)
<НГ> <Нг> <нг>
  <::слав>       буква НАШ с крючком
<НЬ> <Нь> <нь>
  <::рус>        сербская буква НЬ
О о
  <::слав>       буква ОН
  <::рус>        буква О
  <::лат>        буква О
  <::греч>       буква ОМИКРОН
<О> <о> _О _о
  <::слав>       буква ОН ШИРОКИЙ
\о
  <::слав>       ОН-титло (со взметом)
<ОО> <Оо> <оо>
  <::слав>       вариант буквы ОН в виде двух склеенных "О"
<О+> <о+>
  <::слав>       буква ОН ШИРОКИЙ с крестом внутри
<О.> <о.>
  <::слав>       буква ОН ШИРОКИЙ с точкой внутри
<О:> <о:>
  <::слав>       буква ОН ШИРОКИЙ с двумя точками внутри
<О.О.> <О.о.> <о.о.>
  <::слав>       вариант буквы ОН в виде двух склеенных "О" с точками внутри
П п
  <::слав>       буква ПОКОЙ
  <::рус>        буква П
  <::греч>       буква ПИ
<П> <п>
  <::греч>       строчный вариант буквы ПИ наподобие надчеркнутой омеги
                 и формально соответствующая ему прописная буква
\п
  <::слав>       ПОКОЙ-титло (со взметом)
<ПС> <Пс> <пс> _ПС _Пс _пс
  <::слав>       буква ПСИ
  <::греч>       буква ПСИ
Р р
  <::слав>       буква РЦЫ
  <::рус>        буква Р
  <::лат>        буква Р
  <::греч>       буква РО
\р
  <::слав>       РЦЫ-титло (со взметом)
С с
  <::слав>       буква СЛОВО
  <::рус>        буква С
  <::лат>        буква С
  <::греч>       буква СИГМА
<С> <с>
  <::слав>       буква СЛОВО БОЛЬШОЕ (вылезающее под строку)
  <::греч>       строчная буква СИГМА (финальное начертание)
                 и формально соответствующая ей прописная буква
_С _с
  <::греч>       то же, что <С> <с>
\с
  <::слав>       СЛОВО-титло (со взметом)
Т т
  <::слав>       буква ТВЕРДО
  <::рус>        буква Т
  <::лат>        буква Т
  <::греч>       буква ТАУ
<Т> <т>
  <::слав>       строчная буква ТВЕРДО (высокий вариант)
                 и формально соответствующая ей прописная буква
  <::греч>       строчная буква ТАУ (высокий вариант)
                 и формально соответствующая ей прописная буква
<|Т|> <|т|>
  <::слав>       строчная буква ТВЕРДО (трехмачтовое начертание)
                 и формально соответствующая ей прописная буква
\т
  <::слав>       ТВЕРДО-титло (без взмета, см. также обозначение W\т -- w\т)
У у
  <::слав>       буква УК (гаммаобразное начертание)
  <::рус>        буква У
  <::лат>        буква Y (игрек)
<У> <у> _У _у
  <::слав>       буква ИК (числовой знак 400)
\у
  <::слав>       УК-титло (без взмета) -- выносное "у" в форме акцента над "Й"
О<У> О<у> о<у> О_У О_у о_у
  <::слав>       буква УК (начертание ОУ), она же ОНИК
<ОV> <Оv> <оv>
  <::слав>       буква УК в начертании "о с галочкой" (галочка=ижица)
Ф ф
  <::слав>       буква ФЕРТ
  <::рус>        буква Ф
  <::греч>       буква ФИ
Х х
  <::слав>       буква ХЕР
  <::рус>        буква Х
  <::лат>        буква Х
  <::греч>       буква ХИ
\х
  <::слав>       ХЕР-титло (без взмета)
Ц ц
  <::слав>       буква ЦЫ
  <::рус>        буква Ц
  <::греч>       буква САМПИ
\ц
  <::слав>       ЦЫ-титло (со взметом)
<Ц> <ц>
  <::слав>       буква ЦЫ (ч-образное или у-образное начертание)
Ч ч
  <::слав>       буква ЧЕРВЬ
  <::рус>        буква Ч
<Ч> <ч>
  <::слав>       буква ЧЕРВЬ в чашеобразном начертании
\ч
  <::слав>       ЧЕРВЬ-титло (со взметом)
Ш ш
  <::слав>       буква ША
  <::рус>        буква Ш
\ш
  <::слав>       ША-титло (со взметом)
Щ щ
  <::слав>       буква ЩА (ШТА)
  <::рус>        буква Щ
<Щ> <щ>
  <::слав>       буква ЩА (ШТА), в которой третья ножка
                 заменена на чашеобразное Ч
\щ
  <::слав>       ЩА-титло (со взметом)
Ъ ъ
  <::слав>       буква ЕР
  <::рус>        буква Ъ
<Ъ> <ъ>
  <::слав>       строчная буква ЕР (высокое начертание)
                 и формально соответствующая ей прописная буква
\ъ
  <::слав>       ЕРИК или ПАЕРОК
Ы ы
  <::слав>       буква ЕРЫ
  <::рус>        буква Ы
<Ы> <ы>
  <::слав>       буква ЕРЫ в начертании ЪI; прочие возможные начертания
                 можно обозначать так: <ЬИ> <ЪИ> <ЬI_> <ЪI_>;
                 если компоненты еще и черточкой соединены, то тогда
<Ь-I> <Ъ-I> <Ь-И> <Ъ-И> <Ь-I_> <Ъ-I_>

<ЫН> <Ын> <ын>
  <::слав>       молдавская юсовая буква в виде стрелки вверх
Ь ь
  <::слав>       буква ЕРЬ
  <::рус>        буква Ь
JЬ Jь jь
  <::слав>       буква ЯТЬ
  <::рус>        буква ЯТЬ
JJЬ Jjь jjь
  <::слав>       буква ЯТЬ ЙОТИРОВАННЫЙ
<JЬ> <Jь> <jь>
  <::слав>       строчная буква ЯТЬ (высокое начетание)
                 и формально соответствующая ей прописная буква
<JЬ_> <Jь_> <jь_>
  <::слав>       буква ЯТЬ (низкое начертание, в виде склеенных "гь")
</JЬ> </Jь> </jь>
  <::слав>       буква ЯТЬ (начертание, когда черта загнута
                 и слева доходит донизу)
Э э
  <::слав>       буква Э ОБОРОТНОЕ
  <::рус>        буква Э
Ю ю
  <::слав>       буква Ю
  <::рус>        буква Ю
<Ю> <ю>
  <::слав>       буква Ю в зеркальном начертании
Я я
  <::слав>       буква ЮС МАЛЫЙ
  <::рус>        буква Я
JЯ Jя jя
  <::слав>       буква ЙОТИРОВАННЫЙ ЮС МАЛЫЙ
<Я> <я>
  <::слав>       буква ЮС МАЛЫЙ в виде подчеркнутой "A", он же -- знак
                 кирилловской транслитерации глаголической буквы
                 по имени "носовой с хвостиком"
\я
  <::слав>       ЮС МАЛЫЙ (как титло)
<Я_> <я_>
  <::слав>       буква ЮС МАЛЫЙ (начертание с соединенными внизу чертой ножками)
<Я.> <я.>
  <::слав>       буква ЮС МАЛЫЙ (в виде А с "прогнутой вниз" гориз. линией)
<ЯU> <Яu> <яu>
  <::слав>       буква ТРЕТИЙ ЮС (ЮС БОЛЬШОЙ, нижняя часть которого нарисована
                 как ЮС МАЛЫЙ)
D d
  <::лат>        буква D
F f
  <::слав>       буква ФИТА
  <::рус>        буква ФИТА
  <::лат>        буква F
  <::греч>       буква ТЕТА
\f
  <::слав>       ФИТА-титло (со взметом)
<F> <f>
  <::греч>       буква ДИГАММА
G g
  <::слав>       буква ДЕРВЬ
  <::рус>        сербская буква ЧЬ/ТЬ/КЬ (перечеркнутое "h")
  <::лат>        буква G
<G> <g>
  <::рус>        сербская буква ДЖЬ/ДЬ/ГЬ (перечеркнутое "h" с круглой ножкой)
I i
  <::слав>       буква ИЖЕ ДЕСЯТИРИЧНОЕ (с 2 точками)
  <::рус>        буква I
  <::лат>        буква I
  <::греч>       буква ИОТА (без точек)
<I> <i>
  <::слав>       буква ИЖЕ ДЕСЯТИРИЧНОЕ без точек
  <::рус>        буква I без точек
  <::лат>        буква I без точек
  <::греч>       подписная иота (после заглавных букв выглядит как обычная)
_I _i
  <::слав>       то же, что <I> <i>
  <::греч>       то же, что <I> <i>
<I_> <i_>
  <::слав>       L-образный знак "I с крючком снизу" для кирилловской
                 транслитерации широкого варианта глаголической буквы
                 "I ДВАДЦАТИРИЧНОЕ"
J j
  <::слав>       префикс-йотатор, см. JА, JЕ, JЯ, JU, а также JЬ и JJЬ
  <::рус>        префикс в обозначениях JЬ и JU (см.)
  <::лат>        буква J
<J> <j>
  <::рус>        сербско-македонская буква J
L l
  <::лат>        буква L
N n
  <::лат>        буква N
Q q
  <::слав>       буква КОППА (древний числовой знак 90)
  <::лат>        буква Q
  <::греч>       буква КОППА
R r
  <::лат>        буква R
S s
  <::слав>       буква ЗЕЛО
  <::рус>        македонская буква S
  <::лат>        буква S
<S> <s>
  <::слав>       буква ЗЕЛО (перевернутое начертание)
  <::лат>        буква S (высокое начертание)
<SГ> <Sг> <sг>
  <::слав>       вариант буквы ЗЕЛО в виде "Z с крючком"
<S-> <S-> <s->
  <::слав>       вариант буквы ЗЕЛО в виде "перечеркнутой Z"
<SS> <Ss> <ss>
  <::лат>        немецкая строчная буква "эс-цет"
                 и формально соответствующая ей прописная буква
U u
  <::слав>       буква ЮС БОЛЬШОЙ
  <::рус>        болгарская буква ЮС БОЛЬШОЙ
  <::лат>        буква U
<U> <u>
  <::слав>       буква ЮС БОЛЬШОЙ с двумя ножками вместо трех
JU Ju ju
  <::слав>       буква ЙОТИРОВАННЫЙ ЮС БОЛЬШОЙ
  <::рус>        болгарская буква ЙОТИРОВАННЫЙ ЮС БОЛЬШОЙ
V v
  <::слав>       буква ИЖИЦА
  <::рус>        буква ИЖИЦА
  <::лат>        буква V
  <::греч>       буква ИПСИЛОН
\v
  <::лат>        акцент "птичка"
W w
  <::слав>       буква ОМЕГА
  <::лат>        буква W
  <::греч>       буква ОМЕГА
<W> <w> _W _w
  <::слав>       буква ОМЕГА КРАСИВАЯ (с надстрочником "великий апостроф")
W\т w\т
  <::слав>       буква ОТ (она же ОМЕГА с ТВЕРДО-титлом)
Z z
  <::лат>        буква Z
!
  (везде)        восклицательный знак
"
  <::слав>       два штриха над ИЖИЦЕЙ (V" v") или др. буквами, не обозначающие
                 выносную букву ИЖЕ или ИЖЕ КРАТКОЕ
  <::лат>        акцент "венгерский умляут" (два штриха)
<,,>
  <::рус>        левая двойная кавычка в начертании ",,"
  <::лат>        левая двойная кавычка в начертании ",,"
<``>
  <::рус>        правая двойная кавычка в начертании "``"
  <::лат>        двойная кавычка в начертании "``"
                 (в немецком стиле -- правая, в английском -- левая)
<''>
  <::лат>        правая двойная кавычка в начертании "''"
#
  <::слав>       числовой знак для тысяч
$
  <::слав>       густое придыхание
  <::греч>       густое придыхание
$'
  <::слав>       густое придыхание + острое ударение
  <::греч>       густое придыхание + острое ударение
$^
  <::слав>       густое придыхание + облеченное ударение
  <::греч>       густое придыхание + облеченное ударение
$`
  <::слав>       густое придыхание + тяжелое ударение
  <::греч>       густое придыхание + тяжелое ударение
%
  (везде)        начало (спец)комментария:
%-
  (везде)        мягкий перенос
%<
  (везде)        переход на красный цвет (киноварь)
%>
  (везде)        переход на черный цвет (конец киновари)
%[
  (везде)        набор вразрядку
%]
  (везде)        отмена набора вразрядку
%(
  (везде)        набор по-подзаголовочному (другим шрифтом)
%)
  (везде)        отмена набора по-подзаголовочному
%^
  (везде)        указание к.-л. программе превратить след. букву в прописную
%_
  (везде)        указание к.-л. программе превратить след. букву в строчную
%{...}
  (везде)        произвольные комментарии (внутри них символы { и } допустимы
                 только при условии сохранения их парности)

===========================
Некоторые комментарии являются могут использоваться как "спецкомментарии",
управляющие ходом работы тех или иных программ. Например, так:

%{число}         следующее "слово" является числом, которое особая
                 программа может переводить из арабской записи в
                 кириллицу или обратно. То есть записи "251" и "сн~а"
                 всегда будут сохраняться "как есть", а вот
                 "%{число}251" и "%{число}сн~а" могут переходить друг
                 в друга.

[! Это был не элемент кодировки, а только _пример_ возможного применения
спецкомментариев !]
===========================

&
  (везде)        символ явной склейки лигатур: л&ю, м&ю, jа&к, ш&т, #&<s>
(славянские), с&т, о&v, п&е&р&i (греческие), s&t, f&i, e&t
(латинские) и т. д.; также см. <сноска>, <паралл>, @, ?,
<покрытие>, <титло>, <тьма>, <легион>, <леодр>, <вран>,
<колода>
'
  (везде)        острое ударение (acute)
(используется и в македонских буквах Г' г' К' к')
(
  (везде)        круглая скобка
)
  (везде)        круглая скобка
<(>
  <::рус>        левая фигурная скобка
  <::лат>        левая фигурная скобка
<)>
  <::рус>        правая фигурная скобка
  <::лат>        правая фигурная скобка
<((>
  <::слав>       левая двойная кавычка
  <::рус>        левая двойная кавычка в начертании "<<"
  <::лат>        двойная кавычка в начертании "<<"
  <::греч>       левая двойная кавычка в начертании "(("
<))>
  <::слав>       правая двойная кавычка
  <::рус>        правая двойная кавычка в начертании ">>"
  <::лат>        двойная кавычка в начертании ">>"
  <::греч>       правая двойная кавычка в начертании "))"
*
  <::слав>       звездочка (светлая, в виде верхнего индекса)
<*>
  <::слав>       знак сноски "звездочка" (в виде верхнего индекса)
+
  <::слав>       крестик (dagger), употребляемый как знак сноски
  <::лат>        плюсик
<+>
  <::слав>       закрашенный равносторонний фигурный крест
<=+=>
  <::слав>       знак полиелейной службы (светлый равносторонний фигурный крест)
<\+/>
  <::слав>       закрашенный равносторонний фигурный крест в нижнем полукруге
<=\+/=>
  <::слав>       знак служения великому святому
                 (светлый равносторонний фигурный крест в нижнем полукруге)
<(+)>
  <::слав>       закрашенный равносторонний фигурный крест в круге
<=(+)=>
  <::слав>       знак служения двунадесятому празднику
                 (светлый равносторонний фигурный крест в круге)
<++>
  <::слав>       8-конечный крест
<=++=>
  <::слав>       8-конечный крест (светлое начертание)
<\++/>
  <::слав>       "крест, изображаемый при освящении жилья"
<(\++/)>
  <::слав>       "крест, изображаемый при освящении жилья, в овале"
<(:.> <.:)>
  <::слав>       черного цвета -- знак шестеричной службы
                 красного цвета -- знак славословной службы
<=(:.=> <=.:)=>
  <::слав>       знак славословной службы
,
  (везде)        запятая
-
  (везде)        дефис
<->
  <::слав>       тире
  <::рус>        тире
  <::лат>        короткое тире (en-dash)
  <::греч>       тире
<-->
  <::слав>       обозначение мелодической остановки (используется как
                 надстрочник, т. е. \{<-->})
  <::лат>        длинное тире (em-dash)
\-
  <::слав>       покрытие (надстрочный знак в виде квадратной скобки,
                 повернутой кончиками вниз)
  <::рус>        черта над буквой
  <::лат>        черта над буквой (macron)
.
  (везде)        точка по низу строки
<.>
  <::слав>       точка по центру строки
  <::греч>       точка по центру строки
\.
  (везде)        точка как верхний акцент
<.:> <:.> <.:.> <.:-> <.:.->
  <::слав>       составные фигурные знаки препинания
                 (элементы "." и "-" пишутся на высоте середины ":")
/
  (везде)        символ в виде "/"
</\>
  <::слав>       обозначение мелодической вершины (знак в форме _/\_);
                 используется как явный надстрочник: xxx\{</\>}
<\/>
  <::слав>       обозначение мелодической "ямы" (знак в форме ~\/~);
                 используется как явный надстрочник: xxx\{<\/>}
<//>
  <::слав>       обозначение восходящего направления движения мелодии
                 (стрелка на северо-запад);
                 используется как явный надстрочник: xxx\{<//>}
<\\>
  <::слав>       обозначение нисходящего направления движения мелодии
                 (стрелка на юго-запад);
                 используется как явный надстрочник: xxx\{<\\>}
0...9
  (везде)        арабские цифры
:
  (везде)        двоеточие
\:
  (везде)        две точки как верхний акцент (трема, diaeresis)
;
  (везде)        точка с запятой (в славянском тексте соответствует
                 гражданскому вопросительному знаку)
< ... >
  (везде)        обозначения различных символов
<> _/
  (везде)        разделитель абзацев
=
  <::слав>       тонкое придыхание
  <::лат>        знак равенства
  <::греч>       тонкое придыхание
='
  <::слав>       тонкое придыхание с острым ударением
  <::греч>       тонкое придыхание с острым ударением
=^
  <::слав>       тонкое придыхание с облеченным ударением
  <::греч>       тонкое придыхание с облеченным ударением
=`
  <::слав>       тонкое придыхание с тяжелым ударением
  <::греч>       тонкое придыхание с тяжелым ударением
?
  (везде)        неизвестный символ; пояснения к ним оформляются так:
                 ?&{%{пояснение}}
                 выбор одного из возможных вариантов толкования
                 ("альтернативный тег") оформляется так:
                 ?&{вариант1|вариант2|...|вариантN}
<?>
  <::рус>        вопросительный знак
  <::лат>        вопросительный знак
@
  <::слав>       кавыка; сноски с кавыкой оформляются так:
                 ...текст... @поясняемый текст@&{текст сноски} ...текст...
  <::лат>        символ "@"
\@
  <::слав>       "краткая" (тот знак, что над буквой Й);
                 используется в молдавской букве ю\@
  <::рус>        "краткая" (тот знак, что над буквой Й);
                 используется в белорусской букве у\@
  <::лат>        символ краткости (breve)
[
  (везде)        левая квадратная скобка
]
  (везде)        правая квадратная скобка
^
  <::слав>       облеченное ударение или знак мягкости
  <::греч>       облеченное ударение
\^
  <::слав>       взмет (для различения записей \с \{с} \{с}\^ --
                 неспецифицированное буквенное титло / выносная буква
                 без взмета / выносная буква со взметом)
_
  <::слав>       префикс в обозначениях:
                 _Е _е _О _о _У _у _I _i _W _w
                 _КС _Кс _кс _ПС _Пс _пс
                 _/ __
                 синонимичных следующим (см.):
                 <Е> <е> <О> <о> <У> <у> <I> <i> <W> <w>
                 <КС> <Кс> <кс> <ПС> <Пс> <пс>
<> <_>
  <::греч>       префикс в обозначениях:
                 _I _i _С _с _КС _Кс _кс _ПС _Пс _пс
                 _/ __
                 синонимичных следующим (см.):
                 <I> <i> <С> <с> <КС> <Кс> <кс> <ПС> <Пс> <пс>
                 <> <_>
                 <_> __
  <::слав>       обозначение для пробела, вставленного издателем
                 (рукописи), но отсутствующего в оригинале
`
  (везде)        тяжелое ударение (grave)
|
  (везде)        разделитель вариантов толкования, см. символ "?"
~
  <::слав>       простое титло
  <::лат>        тильда
<~>
  <::слав>       обозначение распева на каком-либо слоге (фигурная волнистая
                 линия); используется как явный надстрочник: xxx\{<~>}
<сноска>
  (везде)        символ для оформления сносок:
                 ...текст... <сноска>&{текст сноски} ...текст...
<паралл>
  (везде)        символ для оформления параллельных мест:
                 ...текст... <паралл>&{текст сноски} ...текст...
<покрытие>
  <::слав>       <покрытие>&{...} означает (многобуквенный)
                 текст под общим покрытием
  <::лат>        то же
  <::греч>       то же
<титло>
  <::слав>       <титло>&{...} означает (многобуквенный)
                 текст под общим титлом
<тьма>
  <::слав>       числовой знак для 10.000 (круг вокруг символа):
                 <тьма>&в или <тьма>&{в~} означает 20.000 (в~ = 2)
<легион>
  <::слав>       числовой знак для 100.000 (пунктирный круг вокруг символа):
<легион>&г или <легион>&{г~} означает 300.000 (г~ = 3)

[Примечание согласно "Грамматике" Востокова: Из того же сочинения (Кирика
Диакона "О числе всех лет", 1136 г., см. Описание рукописей Румянцевского
Музеума, стр. 39) видно, что сто тысяч выражалось словом несъвjьдь или
невjьдь. В других рукописях несъвjьдь или несъвjьда значит
  <::греч>мvрiа'<с>, <::рус>тьма.]

<леодр>
  <::слав>       числовой знак для 1.000.000 (кружок из запятых вокруг символа):
                 <леодр>&д или <леодр>&{д~} означает 4.000.000 (д~ = 4)
<вран>
  <::слав>       числовой знак для 10.000.000 (кружок из крестов вокруг
                 символа): <вран>&<е> или <вран>&{<е>~} означает 50.000.000
                 (<е>~ = 5)
<колода>
  <::слав>       числовой знак для 100.000.000 (горизонтально расположенные
                 квадратные скобки над и под символом): <колода>&s или
                 <колода>&{s~} означает 600.000.000 (s~ = 6)
<тьматем>
  <::слав>       числовой знак для 1.000.000.000, выглядящий (согласно
                 Востокову) почему-то так:

                                 |
                                 |
                              ---+---
                                 |
                                 |

                 --------     |     |     --------
                 |     |
                 --------     +--+  |     --------
                 |  |  |
                 --------     +--+  |     --------

                              |  |  |
                              |  |  |
                              |  |  |
                              |  |  |
                              |  |  |

[Примечание согласно "Грамматике" Востокова: "Но в изображении и распределении
сих последних чисел писцы разнствуют" (стр. 9).]

<::греч>
  (везде)        переключение в греческий режим
<::лат>
  (везде)        переключение в латинский режим
<::рус>
  (везде)        переключение в "русский" режим (гражданская кириллица)
<::слав>
  (везде)        переключение в "славянский" режим (полууставная кириллица)

